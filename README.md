![NextJS](https://img.shields.io/badge/NextJS-14%2B-%23000000?logo=nextdotjs)
![TypeScript](https://img.shields.io/badge/TypeScript-5.2-%233178C6?logo=typescript)
![React](https://img.shields.io/badge/React-18-%2361DAFB?logo=react)
![MUI](https://img.shields.io/badge/MUI-5-%23007FFF?logo=mui)
![RTK](https://img.shields.io/badge/RTK-Query-%23764ABC?logo=redux)
![SWR](https://img.shields.io/badge/SWR-hooks-%23000000?logo=swr)
![Docker](https://img.shields.io/badge/Docker-23-%232496ED?logo=docker)

![GitHub last commit](https://img.shields.io/github/last-commit/xczdenis/gabgabgurus-backend)
![GitHub commit activity (branch)](https://img.shields.io/github/commit-activity/m/xczdenis/gabgabgurus-backend)

# GabGabGurus (frontend)

* [https://gabgabgurus.ru/](https://gabgabgurus.ru/) - –≤–µ–± —Å–∞–π—Ç
* [https://gabgabgurus.ru/](https://gabgabgurus.ru/api/openapi/swagger/?version=v1) - API –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ swagger
* [https://gabgabgurus.ru/](https://gabgabgurus.ru/api/openapi/redoc/?version=v1) - API –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ redoc
* [https://gabgabgurus.ru/](https://github.com/xczdenis/gabgabgurus-frontend) - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ NextJS (React)
* [https://gabgabgurus.ru/](https://github.com/xczdenis/gabgabgurus-backend) - backend –Ω–∞ Django+DRF

[GabGabGurus.ru](https://gabgabgurus.ru/) - —ç—Ç–æ —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö
—è–∑—ã–∫–æ–≤. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–æ—Å–∏—Ç–µ–ª—è —è–∑—ã–∫–∞ –ø–æ –æ–±—â–∏–º —É–≤–ª–µ—á–µ–Ω–∏—è–º –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ä–µ—á–∏ –∏–ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–µ.

–°–µ—Ä–≤–∏—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 2—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

* **—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**: NextJS, React, MUI, RTK Query, SWR hooks, TypeScript, Docker;
* **–±—ç–∫–µ–Ω–¥**: Django, Django Rest Framework (DRF), ASGI (channels), OpenAPI (swagger), PostgreSQL, Redis, Docker;

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#-–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-)
- [‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞](#-–û–ø–∏—Å–∞–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–∞-)
    - [üé® –¢–µ–º–∏–∑–∞—Ü–∏—è –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω](#-–¢–µ–º–∏–∑–∞—Ü–∏—è-–∏-—É–Ω–∏–∫–∞–ª—å–Ω—ã–π-–¥–∏–∑–∞–π–Ω-)
- [üíª –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#-–†–µ–∂–∏–º-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏-)
    - [üõ†Ô∏è –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–∂–∏–º–µ development](#-–ó–∞–ø—É—Å–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏-–≤-—Ä–µ–∂–∏–º–µ-development-)
    - [üè≠ –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–∂–∏–º–µ production](#-–ó–∞–ø—É—Å–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏-–≤-—Ä–µ–∂–∏–º–µ-production-)

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ [üîù](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

* **NextJS 14**;
* **MUI**:
    * **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω**;
    * –¢–µ–º–∏–∑–∞—Ü–∏—è: Dark and Light —Ç–µ–º—ã;
    * –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã;
    * –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞–ª–µ—Ç—ã —Ü–≤–µ—Ç–æ–≤;
* –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã;
* –£–¥–æ–±–Ω—ã–µ mock —à–ª—é–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏;
* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–ª–æ–∏:
    * **public:** —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π;
    * **protected:** —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
* –ü—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã;
* –û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useCallback`;
* –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã;
* **OAuth2** + **JWT** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è;
* –ü–æ–ª–Ω–∞—è **Docker** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
    * —Ç–æ–Ω–∫–∏–µ –æ–±—Ä–∞–∑—ã - **multi-stage —Å–±–æ—Ä–∫–∞**;
    * **docker-compose** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏;
* **CI/CD** - workflow –¥–ª—è GitHub Actions:
    * —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤;
    * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker Registry;
    * –î–µ–ø–ª–æ–π –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ;
* **Makefile** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥;

## ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ [üîù](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### üé® –¢–µ–º–∏–∑–∞—Ü–∏—è –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω [üîù](#-–û–ø–∏—Å–∞–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–∞-)

–î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã.

Gabgabgurus (frontend) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã [MUI](https://mui.com/material-ui/getting-started/).
–í—Å–µ, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ç–µ–º–∏–∑–∞—Ü–∏–∏ –∏ –¥–∏–∑–∞–π–Ω—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `theme`.

–¢–µ–º–∞ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤ —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ü–≤–µ—Ç–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–µ–Ω–∏ –∏ —Ç.–¥. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ç–µ–º—É, –Ω—É–∂–Ω–æ
—Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞.

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç 2 —Ç–µ–º—ã - `dark` –∏ `light`. –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–≤–æ–π—Å—Ç–≤–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è —Ç–µ–º—ã, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
—Ñ—É–Ω–∫—Ü–∏–µ–π `createOptions`. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–∞—Ö `theme/dark` –∏ `theme/light`. –ü—Ä–∏ —ç—Ç–æ–º –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–µ
—Å–≤–æ–π—Å—Ç–≤–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è –æ–±–æ–∏—Ö —Ç–µ–º. –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–∞–∑–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `createOptions` –∏–∑
–∫–∞—Ç–∞–ª–æ–≥–∞ `theme/base`.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã:

```typescript
// src/theme/dark/create-options.ts

export const createOptions = (config: IThemeConfig) => {
  const { colorPreset, contrast } = config;

  const palette = createPalette({ colorPreset, contrast });
  const components = createComponents({ palette });
  const shadows = createShadows();

  return {
    components,
    palette,
    shadows,
  };
};
```

–û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

1. `createComponents`: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–º–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–π —Ç–µ–º—ã;
2. `createPalette`: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ü–≤–µ—Ç–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è –¥–∞–Ω–Ω–æ–π —Ç–µ–º—ã;
3. `createShadows`: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–Ω–µ–π, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è –¥–∞–Ω–Ω–æ–π —Ç–µ–º—ã;

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ñ—É–Ω–∫—Ü–∏—é `createComponents` –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ `theme/base`. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–∑–æ–≤—ã–π
–Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:

```typescript
// src/theme/base/create-components.tsx

export const createComponents = (): Components => {
  return {
    MuiAvatar: {
      styleOverrides: {
        root: {
          fontSize: 14,
          fontWeight: 600,
          letterSpacing: 0,
        },
      },
    },
    ...
  }
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `createComponents` —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–∞—Ö `theme/dark` –∏ `theme/light`. –§—É–Ω–∫—Ü–∏—è `createComponents`
–≤ –∫–∞—Ç–∞–ª–æ–≥–µ `theme/dark` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–æ–ª—å–∫–æ —Å —Ç–µ–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –¥–ª—è —Ç–µ–º–Ω–æ–π
—Ç–µ–º—ã:

```typescript
// src/theme/dark/create-components.tsx

export const createComponents = (): Components => {
  return {
    MuiAvatar: {
      styleOverrides: {
        root: {
          backgroundColor: palette.neutral[300],
          color: common.black,
        },
      },
    },
    ...
  }
```

–§—É–Ω–∫—Ü–∏—è `createComponents`–≤ –∫–∞—Ç–∞–ª–æ–≥–µ `theme/light` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–æ–ª—å–∫–æ —Å —Ç–µ–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã
–±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã:

```typescript
// src/theme/dark/create-components.ts

export const createComponents = (): Components => {
  return {
    MuiAvatar: {
      styleOverrides: {
        root: {
          backgroundColor: palette.neutral[200],
          color: common.black,
        },
      },
    },
    ...
  }
```

–ö–∞–∂–¥–∞—è —Ç–µ–º–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ - –ø–∞–ª–µ—Ç—É, –ø—Ä–∏ —ç—Ç–æ–º –≤—Å–µ —Ü–≤–µ—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ –æ–¥–Ω–æ–º
–º–µ—Å—Ç–µ - `theme/colors.ts`.

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ü–≤–µ—Ç `netural`:

```typescript
// src/theme/colors.ts

export const neutral: Record<number, string> = {
  50: '#F8F9FA',
  100: '#F3F4F6',
  200: '#E5E7EB',
  300: '#D2D6DB',
  400: '#9DA4AE',
  500: '#6C737F',
  600: '#4D5761',
  700: '#2F3746',
  800: '#1C2536',
  900: '#111927',
};
```

–§—É–Ω–∫—Ü–∏—è `createPalette` –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã –∑–∞–¥–∞–µ—Ç —Å–≤–æ–∏ —Ü–≤–µ—Ç–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```typescript
// src/theme/dark/create-palette.ts

import { neutral } from '@/theme/colors';

export const createPalette = (paletteOptions: PaletteOptions) => {
  const { colorPreset, contrast } = paletteOptions;

  return {
    action: {
      active: neutral[500],
      disabled: alpha(neutral[100], 0.38),
      disabledBackground: alpha(neutral[100], 0.12),
      focus: alpha(neutral[100], 0.16),
      hover: alpha(neutral[100], 0.04),
      selected: alpha(neutral[100], 0.12),
    },
    text: {
      primary: '#EDF2F7',
      secondary: '#A0AEC0',
      disabled: 'rgba(255, 255, 255, 0.48)',
    },
    ...
  }
```

–§—É–Ω–∫—Ü–∏—è `createPalette` –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã —Ç–∞–∫–∂–µ –∑–∞–¥–∞–µ—Ç —Å–≤–æ–∏ —Ü–≤–µ—Ç–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```typescript
// src/theme/light/create-palette.ts

import { neutral } from '@/theme/colors';

export const createPalette = (paletteOptions: PaletteOptions) => {
  const { colorPreset, contrast } = paletteOptions;

  return {
    action: {
      active: neutral[500],
      disabled: alpha(neutral[900], 0.38),
      disabledBackground: alpha(neutral[900], 0.12),
      focus: alpha(neutral[900], 0.16),
      hover: alpha(neutral[900], 0.04),
      selected: alpha(neutral[900], 0.12),
    },
    text: {
      primary: neutral[900],
      secondary: neutral[500],
      disabled: alpha(neutral[900], 0.38),
    },
    ...
  }
```

–ò—Ç–æ–≥–æ–≤–∞—è —Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π createTheme:

```typescript
// src/theme/index.ts

import { PaletteMode } from '@/config';
import { IThemeConfig } from '@/lib/types/theme';
import { createTheme as createMuiTheme, responsiveFontSizes } from '@mui/material/styles';
import { createOptions as createBaseOptions } from './base/create-options';
import { createOptions as createDarkOptions } from './dark/create-options';
import { createOptions as createLightOptions } from './light/create-options';

export const createTheme = (config: IThemeConfig) => {
  let theme = createMuiTheme(
    // Base options available for both dark and light palette modes
    createBaseOptions(config),
    // Options based on selected palette mode, color preset and contrast
    config.paletteMode === PaletteMode.Dark ? createDarkOptions(config) : createLightOptions(config)
  );

  if (config.responsiveFontSizes) {
    theme = responsiveFontSizes(theme);
  }

  return theme;
};

```

## üíª –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ [üîù](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### üõ†Ô∏è –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–∂–∏–º–µ development [üîù](#-–†–µ–∂–∏–º-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏-)

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –±—ç–∫–µ–Ω–¥–µ `make run-db`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
3. –ú–µ–Ω—è–µ–º `docker-compose.dev.yml`

```docker
    web:
        <<: *base-dev-service
        build:
            context: .
            dockerfile: deploy/web/Dockerfile
            args:
                IMG: ${NODE_IMG}
                BASE_API_URL: ${NEXT_PUBLIC_BASE_API_URL?Variable not set}
                BASE_WS_URL: ${NEXT_PUBLIC_BASE_WS_URL?Variable not set}
        environment:
#            NODE_ENV: production
            NODE_ENV: development
        command: ["npm", "run", "dev"]
```

4. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`:

```dotenv
# ---------------------------------------------
# Web app settings for building app
# ---------------------------------------------
# When running on docker with nginx, host should be app 127.0.0.1, else 127.0.0.1:8000
#NEXT_PUBLIC_BASE_API_URL=http://127.0.0.1/api/v1
#NEXT_PUBLIC_BASE_WS_URL=ws://127.0.0.1/ws/api/v1

NEXT_PUBLIC_BASE_API_URL=http://127.0.0.1:8000/api/v1
NEXT_PUBLIC_BASE_WS_URL=ws://127.0.0.1:8000/ws/api/v1

# ---------------------------------------------
# Web app sturtup settings
# ---------------------------------------------
PORT=3000
PROXY_LISTEN_PORT=80
```

5. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env.development.local`:

```dotenv
# ---------------------------------------------
# Backend settings
# ---------------------------------------------
# If backend has started on localhost, BACKEND_HOST should be 127.0.0.1
BACKEND_HOST=127.0.0.1

# If backend has started on docker, BACKEND_HOST should be app
#BACKEND_HOST=app
BACKEND_PORT=8000

# ---------------------------------------------
# Web app runtime settings
# ---------------------------------------------
BASE_API_URL=http://$BACKEND_HOST:$BACKEND_PORT/api/v1

# ---------------------------------------------
# Other
# ---------------------------------------------
DOMAIN=gabgabgurus.ru
```

### üè≠ –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–∂–∏–º–µ production [üîù](#-–†–µ–∂–∏–º-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏-)

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –±—ç–∫–µ–Ω–¥–µ `make run`

2. –ú–µ–Ω—è–µ–º `docker-compose.dev.yml`

```docker
    web:
        <<: *base-dev-service
        build:
            context: .
            dockerfile: deploy/web/Dockerfile
            args:
                IMG: ${NODE_IMG}
                BASE_API_URL: ${NEXT_PUBLIC_BASE_API_URL?Variable not set}
                BASE_WS_URL: ${NEXT_PUBLIC_BASE_WS_URL?Variable not set}
        environment:
            NODE_ENV: production
#            NODE_ENV: development
#        command: ["npm", "run", "dev"]
```

3. –§–∞–π–ª `.env` –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```dotenv
# ---------------------------------------------
# Web app settings for building app
# ---------------------------------------------
# When running on docker with nginx, host should be app 127.0.0.1, else 127.0.0.1:8000
NEXT_PUBLIC_BASE_API_URL=http://127.0.0.1/api/v1
NEXT_PUBLIC_BASE_WS_URL=ws://127.0.0.1/ws/api/v1

#NEXT_PUBLIC_BASE_API_URL=http://127.0.0.1:8000/api/v1
#NEXT_PUBLIC_BASE_WS_URL=ws://127.0.0.1:8000/ws/api/v1

# ---------------------------------------------
# Web app sturtup settings
# ---------------------------------------------
PORT=3000
PROXY_LISTEN_PORT=80
```

4. –§–∞–π–ª `.env.production.local` –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```dotenv
# ---------------------------------------------
# Backend settings
# ---------------------------------------------
# If backend has started on localhost, BACKEND_HOST should be 127.0.0.1
#BACKEND_HOST=127.0.0.1

# If backend has started on docker, BACKEND_HOST should be app
BACKEND_HOST=app
BACKEND_PORT=8000

# ---------------------------------------------
# Web app runtime settings
# ---------------------------------------------
BASE_API_URL=http://$BACKEND_HOST:$BACKEND_PORT/api/v1

# ---------------------------------------------
# Other
# ---------------------------------------------
DOMAIN=gabgabgurus.ru
```
